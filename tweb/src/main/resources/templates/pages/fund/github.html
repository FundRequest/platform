<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/default">
<head>
    <title>FundRequest - Fund Existing GitHub Request</title>
</head>
<body>
<th:block layout:fragment="content">
    <section class="section section--header">
        <div class="row">
            <div class="col-12 col-md-4 d-none d-md-flex justify-content-center align-items-center">
                <i class="fab fa-github-alt fa-10x text-warning"></i>
            </div>
            <div class="col-12 col-md-8">
                <h1 class="text-warning">
                    <span class="d-inline-block d-md-none">
                        <i class="fab fa-github-alt fa-1x text-warning"></i>
                    </span>
                    Fund an Existing Request
                </h1>

                <div class="description text-muted">
                    <p>
                        GitHub has millions of existing issues, not every request requires the creation of a new issue.
                        Incentive our developer to start or keep working on an open issue.
                    </p>
                </div>
                <a class="text-warning text-transform-normal"
                   th:href="@{https://docs.fundrequest.io/display/PUB/Alpha+Release}">
                    How it works...
                </a>
            </div>
        </div>
    </section>

    <section class="position-relative mb-5">
        <form class="wizard" data-wizard="true" is="wizard-component" inline-template="true">
            <div class="wizard__content">
                <header class="wizard__header mb-2">
                    <div class="wizard__steps">
                        <nav class="steps">
                            <div class="step" data-wizard-step="true">
                                <div class="step__content">
                                    <p class="step__number"><i class="fab fa-github-alt"></i></p>
                                    <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                        <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                                        <path class="checkmark__check" fill="none"
                                              d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                    </svg>
                                    <div class="lines">
                                        <div class="line -background"></div>
                                        <div class="line -progress"></div>
                                        <div class="line -overlay"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="step" data-wizard-step="true">
                                <div class="step__content">
                                    <p class="step__number"><i class="fas fa-dollar-sign"></i></p>
                                    <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                        <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                                        <path class="checkmark__check" fill="none"
                                              d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                    </svg>

                                    <div class="lines">
                                        <div class="line -background"></div>
                                        <div class="line -progress"></div>
                                        <div class="line -overlay"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="step" data-wizard-step="true">
                                <div class="step__content">
                                    <p class="step__number"><i class="far fa-handshake"></i></p>
                                    <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                        <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                                        <path class="checkmark__check" fill="none"
                                              d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                    </svg>

                                    <div class="lines">
                                        <div class="line -background"></div>
                                        <div class="line -overlay"></div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                </header>
                <div class="wizard__title">
                    <div class="row">
                        <div class="col-12">
                            <h4 class="section-title text-muted" v-if="githubIssue == null">
                                Please select a GitHub issue
                            </h4>
                            <h4 class="section-title text-primary" v-if="githubIssue != null" v-cloak="true">
                                <img v-bind:src="githubIssue.avatar + '?size=20'" height="20" width="20" />
                                <a v-bind:href="githubIssue.html_url" target="_blank" rel="noopener noreferrer">
                                    {{githubIssue.owner}}/{{githubIssue.repo}} <span class="text-muted">#{{githubIssue.number}}</span>
                                </a>
                            </h4>
                        </div>
                    </div>
                </div>
                <div class="panels">
                    <div class="panel" data-wizard-panel="github">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="card mb-3">
                                    <div class="card-header">
                                        Which GitHub issue would you like to fund?
                                    </div>
                                    <div class="card-body">
                                        <input class="form-control" type="text"
                                               data-form-validation="required;github"
                                               placeholder="ex.: https://github.com/repoXYZ/issues/1"
                                               v-bind:value="githubUrl"
                                               v-on:input="updateUrl($event.target.value)" />
                                        <div class="invalid-feedback">Please enter a valid github issue</div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-header">
                                        Describe why you would like to add funding to this GitHub Issue.
                                    </div>
                                    <div class="card-body">
                                        <textarea
                                                title="Describe why you would like to add funding to this GitHub Issue."
                                                placeholder="ex.: This issue is blocking me from integrating this product with an other piece of open source software."
                                                class="form-control"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wizard__footer text-right">
                            <button class="btn btn-warning" data-wizard-control="next">
                                continue to funding details
                            </button>
                        </div>
                    </div>

                    <div class="panel movingOutForward" data-wizard-panel="github-fund-method">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="card mb-3">
                                    <div class="card-header">
                                        For how much would you like to fund the request?
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-12 col-md-6 col-lg-4">
                                                <div class="input-group">
                                                    <input class="form-control text-right"
                                                           data-form-validation="required;number"
                                                           placeholder="ex: 120.00"
                                                           v-model="fundAmount"
                                                    />
                                                    <span class="input-group-prepend" v-if="selectedToken != null">
                                                        <select title="token" class="form-control" size="auto" v-model="selectedToken">
                                                          <option v-for="token in supportedTokens" v-bind:value="token">
                                                            {{ token.symbol }}
                                                          </option>
                                                        </select>
                                                    </span>
                                                    <div class="invalid-feedback">Please enter a valid number</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-header">
                                        Select your preferred payment method.
                                    </div>
                                    <div class="card-body">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="radio" name="paymentMethod"
                                                   v-model="paymentMethod"
                                                   id="paymentMethod-trustwallet" value="trustwallet"
                                                   checked="checked" />
                                            <label class="form-check-label" for="paymentMethod-trustwallet">
                                                Trust Wallet
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="radio" name="paymentMethod"
                                                   v-model="paymentMethod"
                                                   id="paymentMethod-dapp" value="dapp" checked="checked" />
                                            <label class="form-check-label" for="paymentMethod-dapp">
                                                MetaMask / Mist / DApp Browser
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input disabled="disabled" class="form-check-input" type="radio"
                                                   v-model="paymentMethod"
                                                   name="paymentMethod" id="paymentMethod-wallet" value="wallet" />
                                            <label class="form-check-label" for="paymentMethod-wallet">
                                                Internal Wallet (Coming soon)
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input disabled="disabled" class="form-check-input" type="radio"
                                                   v-model="paymentMethod"
                                                   name="paymentMethod" id="paymentMethod-creditcard"
                                                   value="creditcard" />
                                            <label class="form-check-label" for="paymentMethod-creditcard">
                                                Creditcard (Coming soon)
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input disabled="disabled" class="form-check-input" type="radio"
                                                   v-model="paymentMethod"
                                                   name="paymentMethod" id="paymentMethod-paypal" value="paypal" />
                                            <label class="form-check-label" for="paymentMethod-paypal">
                                                PayPal (Coming soon)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wizard__footer text-right">
                            <button class="btn btn-link text-warning" data-wizard-control="previous">
                                back to issue details
                            </button>

                            <button class="btn btn-warning" data-wizard-control="next">
                                continue to last step
                            </button>
                        </div>
                    </div>

                    <div class="panel movingOutForward" data-wizard-panel="github-fund">
                        <div class="row md-3" v-if="githubIssue != null &amp;&amp; selectedToken != null">
                            <div class="col-12">
                                <div class="card mb-3">
                                    <div class="card-header">
                                        Summary
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-9">
                                                Fund an Existing Request
                                                (<a v-bind:href="githubIssue.html_url" target="_blank" rel="noopener noreferrer">
                                                    <span class="text-muted">{{githubIssue.owner}}/{{githubIssue.repo}} #{{githubIssue.number}}</span>
                                                </a>)
                                            </div>
                                            <div class="col-3 text-right">
                                                {{fundAmount}} {{selectedToken.symbol}}
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-9">
                                                Total
                                            </div>
                                            <div class="col-3 text-right">
                                                {{totalAmount}} {{selectedToken.symbol}}
                                            </div>
                                            <hr />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wizard__footer text-right">
                            <button class="btn btn-link text-warning" data-wizard-control="previous">
                                back to funding details
                            </button>

                            <button class="btn btn-warning" data-wizard-control="next">
                                Start transaction
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>

    <section class="mb-2">
        <div class="row">
            <div class="col-12">
                <h4 class="section-title text-primary">Frequently Asked Questions</h4>
                <h5 class="section-subtitle text-muted">
                    <small>Your funding existing requests FAQ's, answered.</small>
                </h5>
            </div>
            <div class="col-12">
                <div class="card">
                    <div class="card-body faq">
                        <div class="faq__title">
                            This is a first question, will other follow, what do you think?
                        </div>
                        <div class="faq__answer">
                            Hmm I'm not sure, one question is of course not a lot, so I
                            guess the chance is very high that others will follow. My
                            answer is Yes.
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="faq__title">
                            This is a first question, will other follow, what do you think?
                        </div>
                        <div class="faq__answer">
                            Hmm I'm not sure, one question is of course not a lot, so I
                            guess the chance is very high that others will follow. My
                            answer is Yes.
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="faq__title">
                            This is a first question, will other follow, what do you think?
                        </div>
                        <div class="faq__answer">
                            Hmm I'm not sure, one question is of course not a lot, so I
                            guess the chance is very high that others will follow. My
                            answer is Yes.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</th:block>

<th:block layout:fragment="css">
</th:block>

<th:block layout:fragment="scripts">
    <script>require(['app/wizard'])</script>
</th:block>

</body>
</html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/default">
<head>
    <title>FundRequest - Requests</title>
</head>

<th:block layout:fragment="content">
    <div class="card mb-5">
        <div class="card-body">
            <div class="form-inline mb-3">
                <input type="text" class="form-control" id="tempFundNumber" placeholder="IssueNumber" />
                <input type="text" class="form-control" id="tempFundAmount" placeholder="Amount" />
                <button type="button" id="tempFund" class="btn btn-success btn-xs approve"><i class="fas fa-check"></i> Fund</button>
                <button type="button" id="tempZrxFund" class="btn btn-success btn-xs approve"><i class="fas fa-check"></i> Fund ZRX</button>
            </div>

            <button class="btn btn-primary" title="Fund" data-toggle="modal" data-target="#fund-request">
                <i class="fa fa-exchange-alt"></i>
            </button>
        </div>

        <div th:replace="fragments/modals/fund :: default('fund-request')"></div>
    </div>

    <section>

        <request-list
                th:attr="'v-bind:requests'=${requests}"
                :filters="[
                    { value: 'funded', title: 'Funded', description: 'Showing an overview of all funded requests.' },
                    { value: 'claimed', title: 'Claimed', description: 'Showing an overview of all claimed requests.' },
                 ]"
                :status-filter-default="'funded'"
                :technologies="['Java', 'Javascript', 'CSS', 'HTML']"
                :projects="['fundrequest', 'trust wallet']"
        >
            <template slot-scope="{statusFilter}">
                <div class="card mb-5" v-if="statusFilter === 'funded'">
                    <div class="card-body">
                        <div class="d-flex justify-content-stretch text-center">
                            <div>
                                <div>Total funding</div>
                                <div>$<span th:text="${statistics.totalAvailableFunding}">-</span></div>
                            </div>
                            <div>
                                <div>Most funded project</div>
                                <div><span th:text="${statistics.mostFundedProject}">-</span></div>
                            </div>
                            <div>
                                <div>Most active technology</div>
                                <div><span th:text="${statistics.mostFundedTechnology}">-</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </request-list>
    </section>

</th:block>


<th:block layout:fragment="css">
    <link type="text/css" rel="stylesheet"
          th:href="@{/assets/vendors/datatables.net-bs4/css/dataTables.bootstrap4.css}"/>
    <link type="text/css" rel="stylesheet"
          th:href="@{/assets/vendors/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css}"/>
</th:block>
<th:block layout:fragment="scripts">
    <script>require(['app/dataTables'])</script>
    <script>require(['app/requests'])</script>
</th:block>

</html>
version: '2'

services:
  awi_mariadb:
    image: mariadb:10.1
    ports:
      - "3309:3306"
    volumes:
      - ./docker_data/mariadb/data:/var/lib/mysql
    container_name: fr_mariadb
    environment:
      - MYSQL_ROOT_PASSWORD=fr
      - MYSQL_DATABASE=fr
      - MYSQL_USER=fr
      - MYSQL_PASSWORD=fr
  fr-rabbitmq:
    image: rabbitmq:3.6.8-management
    ports :
      -  "5672:5672"
      -  "9191:15672"
    volumes:
      - ./docker_data/konijn/data:/var/lib/rabbitmq
    environment:
      - RABBITMQ_DEFAULT_PASS=default_pass
    networks:
      - frnet
  azrael:
    depends_on:
      - "fr-rabbitmq"
    links:
      - fr-rabbitmq:fr-rabbitmq
    image: fundrequestio/azrael:develop
    ports :
      -  "8001:8001"
    networks:
      - frnet
    volumes:
      - ./docker_data/konijn/data:/var/lib/rabbitmq
    environment:
      - RABBITMQ_DEFAULT_PASS=default_pass
      - spring.rabbitmq.host=fr-rabbitmq
      - spring.rabbitmq.port=5672
      - io.fundrequest.sign.account="${AZRAEL_SIGN_ACCOUNT}"
      - io.fundrequest.contract.address=0x797b33d3bb0c74a7860cd2ca80bf063809dced80
      - io.fundrequest.contract.binary=0x606060405234156200001057600080fd5b604051602080620028b183398101604052808051906020019091905050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506200008c81620000936401000000000262000a1a176401000000009004565b50620001e7565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515620000ef57600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166376dc4c0a6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1515620001bf57600080fd5b6102c65a03f11515620001d157600080fd5b505050604051805190501515620001e457fe5b50565b6126ba80620001f76000396000f3006060604052600436106100db576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630829bca6146100e05780630b6fc163146101b457806324010a141461020957806326a4e8d2146102a15780633188f6da146102da5780638da5cb5b146103225780638f4ffcb11461037757806391ff6baf1461041b5780639a54563014610444578063a6f9dae114610525578063ad044f491461055e578063ad7a672f14610587578063b4cbdd8b146105b0578063c7968135146105e9578063fc0c546a14610612575b600080fd5b34156100eb57600080fd5b61019a6004808035600019169060200190919080356000191690602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035600019169060200190919080356000191690602001909190803560ff16906020019091905050610667565b604051808215151515815260200191505060405180910390f35b34156101bf57600080fd5b6101c76109ce565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561021457600080fd5b6102876004808035600019169060200190919080356000191690602001909190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919080359060200190919050506109f4565b604051808215151515815260200191505060405180910390f35b34156102ac57600080fd5b6102d8600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610a1a565b005b34156102e557600080fd5b61030c60048080356000191690602001909190803560001916906020019091905050610b6a565b6040518082815260200191505060405180910390f35b341561032d57600080fd5b610335610bac565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561038257600080fd5b610419600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610bd1565b005b341561042657600080fd5b61042e610d88565b6040518082815260200191505060405180910390f35b341561044f57600080fd5b6104956004808035600019169060200190919080356000191690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610d8e565b6040518085815260200184815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b838110156104e75780820151818401526020810190506104cc565b50505050905090810190601f1680156105145780820380516001836020036101000a031916815260200191505b509550505050505060405180910390f35b341561053057600080fd5b61055c600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610ed4565b005b341561056957600080fd5b610571610f72565b6040518082815260200191505060405180910390f35b341561059257600080fd5b61059a610f78565b6040518082815260200191505060405180910390f35b34156105bb57600080fd5b6105e7600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610f7e565b005b34156105f457600080fd5b6105fc610fc2565b6040518082815260200191505060405180910390f35b341561061d57600080fd5b610625610fc8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b60008060008060008061067f8d8d8d8d8d8d8d610fee565b151561068a57600080fd5b600760008e6000191660001916815260200190815260200160002060008d600019166000191681526020019081526020016000209450846002015493508460030192506106e28460025461114c90919063ffffffff16565b600281905550600091505b846000018054905082101561078d57846000018281548110151561070d57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508460010160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000905581806001019250506106ed565b600760008e6000191660001916815260200190815260200160002060008d60001916600019168152602001908152602001600020600080820160006107d29190612512565b60028201600090556003820160006107ea9190612533565b5050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb8b866000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15156108b957600080fd5b6102c65a03f115156108ca57600080fd5b5050506040518051905015156108df57600080fd5b8973ffffffffffffffffffffffffffffffffffffffff167f938f51d252021f489783803184894934e43dd6da3442af3c8201f0e087c6c1fb8e8e8e88604051808560001916600019168152602001846000191660001916815260200180602001838152602001828103825284818151815260200191508051906020019080838360005b8381101561097d578082015181840152602081019050610962565b50505050905090810190601f1680156109aa5780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a2600195505050505050979650505050505050565b600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000610a038585858533611165565b1515610a0e57600080fd5b60019050949350505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610a7557600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166376dc4c0a6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1515610b4457600080fd5b6102c65a03f11515610b5557600080fd5b505050604051805190501515610b6757fe5b50565b60006007600084600019166000191681526020019081526020016000206000836000191660001916815260200190815260200160002060020154905092915050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b610bd961257b565b610be161257b565b610be961257b565b610bf161257b565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff16141515610c4d57600080fd5b610c568561139d565b9350610ca8610c996040805190810160405280600181526020017f7c0000000000000000000000000000000000000000000000000000000000000081525061139d565b856113cb90919063ffffffff16565b9250610cfa610ceb6040805190810160405280600181526020017f7c0000000000000000000000000000000000000000000000000000000000000081525061139d565b856113cb90919063ffffffff16565b9150610d4c610d3d6040805190810160405280600181526020017f7c0000000000000000000000000000000000000000000000000000000000000081525061139d565b856113cb90919063ffffffff16565b9050610d73610d5a846113e5565b610d63846113e5565b610d6c8461142a565b8a8c611165565b1515610d7e57600080fd5b5050505050505050565b60065481565b6000806000610d9b612595565b6000600760008960001916600019168152602001908152602001600020600088600019166000191681526020019081526020016000209050806000018054905081600201548260010160008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483600301808054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610ebb5780601f10610e9057610100808354040283529160200191610ebb565b820191906000526020600020905b815481529060010190602001808311610e9e57829003601f168201915b5050505050905094509450945094505093509350935093565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610f2f57600080fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60035481565b60025481565b80600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60055481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000610fff8a8a8a8a611488565b6040518082805190602001908083835b602083101515611034578051825260208201915060208101905060208303925061100f565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390209150600182858888604051600081526020016040526000604051602001526040518085600019166000191681526020018460ff1660ff16815260200183600019166000191681526020018260001916600019168152602001945050505050602060405160208103908084039060008661646e5a03f115156110e157600080fd5b50506020604051035190508073ffffffffffffffffffffffffffffffffffffffff16600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161492505050979650505050505050565b600082821115151561115a57fe5b818303905092915050565b6000808311151561117557600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd8330866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b151561127657600080fd5b6102c65a03f1151561128757600080fd5b50505060405180519050151561129c57600080fd5b6112a882878786611501565b6112b582878787876116dc565b8173ffffffffffffffffffffffffffffffffffffffff167f6d8a2e6bbfe04695966fef6b37edbfd3440b8e9333c628441d6aac227256754287878787604051808560001916600019168152602001846000191660001916815260200180602001838152602001828103825284818151815260200191508051906020019080838360005b83811015611353578082015181840152602081019050611338565b50505050905090810190601f1680156113805780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a26001905095945050505050565b6113a561257b565b600060208301905060408051908101604052808451815260200182815250915050919050565b6113d361257b565b6113de838383611947565b5092915050565b60006113ef612595565b6113f76125a9565b6114008461142a565b915081905060008151141561141b5760006001029250611423565b602082015192505b5050919050565b611432612595565b61143a612595565b6000836000015160405180591061144e5750595b9080825280601f01601f1916602001820160405250915060208201905061147e81856020015186600001516119e5565b8192505050919050565b611490612595565b6114f76114a461149f84611a30565b611c7f565b6114e96114b086611c7f565b6114db6114c46114bf8a611cd6565b611c7f565b6114cd8b611cd6565b611ec390919063ffffffff16565b611ec390919063ffffffff16565b611ec390919063ffffffff16565b9050949350505050565b6000806007600086600019166000191681526020019081526020016000206000856000191660001916815260200190815260200160002060010160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205411905080151561161c576007600085600019166000191681526020019081526020016000206000846000191660001916815260200190815260200160002060000180548060010182816115cc91906125bd565b9160005260206000209001600087909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b6000600460008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541115156116d55761167b6001600554611f1090919063ffffffff16565b6005819055506116d382600460008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f1090919063ffffffff16565b505b5050505050565b6000600760008660001916600019168152602001908152602001600020600085600019166000191681526020019081526020016000206002015411151561173a576117336001600654611f1090919063ffffffff16565b6006819055505b6117c1816007600087600019166000191681526020019081526020016000206000866000191660001916815260200190815260200160002060010160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f1090919063ffffffff16565b6007600086600019166000191681526020019081526020016000206000856000191660001916815260200190815260200160002060010160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611883816007600087600019166000191681526020019081526020016000206000866000191660001916815260200190815260200160002060020154611f1090919063ffffffff16565b6007600086600019166000191681526020019081526020016000206000856000191660001916815260200190815260200160002060020181905550816007600086600019166000191681526020019081526020016000206000856000191660001916815260200190815260200160002060030190805190602001906119099291906125e9565b5061191f81600254611f1090919063ffffffff16565b60028190555061193a81600354611f1090919063ffffffff16565b6003819055505050505050565b61194f61257b565b600061196d8560000151866020015186600001518760200151611f2e565b905084602001518360200181815250508460200151810383600001818152505084600001518560200151018114156119af5760008560000181815250506119da565b8360000151836000015101856000018181510391508181525050836000015181018560200181815250505b829150509392505050565b60005b602082101515611a0d57825184526020840193506020830192506020820391506119e8565b6001826020036101000a0390508019835116818551168181178652505050505050565b611a38612595565b611a406125a9565b6000806000806028604051805910611a555750595b9080825280601f01601f19166020018201604052509450600093505b6014841015611c34578360130360080260020a8773ffffffffffffffffffffffffffffffffffffffff16811515611aa457fe5b047f01000000000000000000000000000000000000000000000000000000000000000292506010837f0100000000000000000000000000000000000000000000000000000000000000900460ff16811515611afb57fe5b047f0100000000000000000000000000000000000000000000000000000000000000029150817f01000000000000000000000000000000000000000000000000000000000000009004601002837f01000000000000000000000000000000000000000000000000000000000000009004037f0100000000000000000000000000000000000000000000000000000000000000029050611b9982611fea565b8585600202815181101515611baa57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350611be381611fea565b8560018660020201815181101515611bf757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508380600101945050611a71565b611c736040805190810160405280600281526020017f307800000000000000000000000000000000000000000000000000000000000081525086611ec3565b95505050505050919050565b611c87612595565b611ccf826040805190810160405280600181526020017f5f00000000000000000000000000000000000000000000000000000000000000815250611ec390919063ffffffff16565b9050919050565b611cde612595565b611ce66125a9565b6000806000611cf36125a9565b6020604051805910611d025750595b9080825280601f01601f1916602001820160405250945060009350600092505b6020831015611de0578260080260020a876001900402600102915060007f010000000000000000000000000000000000000000000000000000000000000002827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141515611dd357818585815181101515611d9a57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535083806001019450505b8280600101935050611d22565b83604051805910611dee5750595b9080825280601f01601f19166020018201604052509050600092505b83831015611eb6578483815181101515611e2057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028184815181101515611e7957fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508280600101935050611e0a565b8095505050505050919050565b611ecb612595565b611f0883836020604051908101604052806000815250602060405190810160405280600081525060206040519081016040528060008152506120da565b905092915050565b6000808284019050838110151515611f2457fe5b8091505092915050565b60008060008060008887111515611fd857602087111515611f8f5760018760200360080260020a031980875116888b038a018a96505b818388511614611f8457600187019650806001880310611f64578b8b0196505b505050839450611fde565b8686209150879350600092505b86890383111515611fd7578684209050806000191682600019161415611fc457839450611fde565b6001840193508280600101935050611f9c565b5b88880194505b50505050949350505050565b6000600a7f010000000000000000000000000000000000000000000000000000000000000002827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161015612089576030827f01000000000000000000000000000000000000000000000000000000000000009004017f01000000000000000000000000000000000000000000000000000000000000000290506120d5565b6057827f01000000000000000000000000000000000000000000000000000000000000009004017f01000000000000000000000000000000000000000000000000000000000000000290505b919050565b6120e2612595565b6120ea6125a9565b6120f26125a9565b6120fa6125a9565b6121026125a9565b61210a6125a9565b612112612595565b61211a6125a9565b6000808e98508d97508c96508b95508a94508451865188518a518c51010101016040518059106121475750595b9080825280601f01601f1916602001820160405250935083925060009150600090505b885181101561221d57888181518110151561218157fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838060010194508151811015156121e057fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350808060010191505061216a565b600090505b87518110156122d557878181518110151561223957fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838380600101945081518110151561229857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050612222565b600090505b865181101561238d5786818151811015156122f157fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838380600101945081518110151561235057fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080806001019150506122da565b600090505b85518110156124455785818151811015156123a957fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002838380600101945081518110151561240857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050612392565b600090505b84518110156124fd57848181518110151561246157fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838060010194508151811015156124c057fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350808060010191505061244a565b82995050505050505050505095945050505050565b50805460008255906000526020600020908101906125309190612669565b50565b50805460018160011615610100020316600290046000825580601f106125595750612578565b601f0160209004906000526020600020908101906125779190612669565b5b50565b604080519081016040528060008152602001600081525090565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b8154818355818115116125e4578183600052602060002091820191016125e39190612669565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061262a57805160ff1916838001178555612658565b82800160010185558215612658579182015b8281111561265757825182559160200191906001019061263c565b5b5090506126659190612669565b5090565b61268b91905b8082111561268757600081600090555060010161266f565b5090565b905600a165627a7a72305820ac0045ede0f6a0abd74fc2e77843912c8c5ecd06fe11ea38fc72490344ae43dd0029

networks:
  frnet:
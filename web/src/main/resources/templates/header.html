<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:fragment="default-header (title, jsModule)">
    <title th:text="${title}"></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script th:src="@{/js/lib/require.js}"></script>
    <meta name="js-module" th:attr="content=${jsModule}"/>
    <script th:inline="javascript">
        //Load common code that includes config, then load the app
        //logic for this page. Do the requirejs calls here instead of
        //a separate file so after a build there are only 2 HTTP
        //requests instead of three.
        requirejs(['./js/common'], function (common) {
            //js/common sets the baseUrl to be js/ so
            //can just ask for 'app/main1' here instead
            //of 'js/app/main1'

            requirejs(['app/' + [[${jsModule}]]]);
        });
    </script>
</head>


</html>